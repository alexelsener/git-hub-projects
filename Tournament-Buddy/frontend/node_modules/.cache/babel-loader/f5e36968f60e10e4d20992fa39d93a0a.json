{"remainingRequest":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\Login.vue","mtime":1587068860167},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBhdXRoIGZyb20gIi4uL2F1dGgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgdXNlcm5hbWVSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAiVXNlcm5hbWUgaXMgcmVxdWlyZWQuIjsKICAgICAgfV0sCiAgICAgIHBhc3N3b3JkUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIlBhc3N3b3JkIGlzIHJlcXVpcmVkLiI7CiAgICAgIH1dLAogICAgICBzaG93UGFzc3dvcmQ6IGZhbHNlLAogICAgICBpbnZhbGlkQ3JlZGVudGlhbHM6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZmV0Y2goIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVNT1RFX0FQSSwgIi9sb2dpbiIpLCB7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXIpCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5pbnZhbGlkQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAodG9rZW4pIHsKICAgICAgICBpZiAodG9rZW4gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAodG9rZW4uaW5jbHVkZXMoJyInKSkgewogICAgICAgICAgICB0b2tlbiA9IHRva2VuLnJlcGxhY2UoLyIvZywgIiIpOwogICAgICAgICAgfQoKICAgICAgICAgIGF1dGguc2F2ZVRva2VuKHRva2VuKTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi91c2VyLWluZm8iKTsKCiAgICAgICAgICBfdGhpcy4kZW1pdCgidXBkYXRlLXVzZXIiKTsKICAgICAgICB9CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,IAAA,MAAA,SAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,aAAA,EAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,CAAA,IAAA,uBAAA;AAAA,OAAA,CALA;AAMA,MAAA,aAAA,EAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,CAAA,IAAA,uBAAA;AAAA,OAAA,CANA;AAOA,MAAA,YAAA,EAAA,KAPA;AAQA,MAAA,kBAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,MAAA,KAAA,WAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,aAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AACA,UAAA,MAAA,EAAA,kBADA;AAEA,0BAAA;AAFA,SAFA;AAMA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,IAAA;AANA,OAAA,CAAA,CAQA,IARA,CAQA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,EAAA,EAAA;AACA,iBAAA,QAAA,CAAA,IAAA,EAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,kBAAA,GAAA,IAAA;AACA;AACA,OAdA,EAeA,IAfA,CAeA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,IAAA,SAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,EAAA;AACA,YAAA,KAAA,GAAA,KAAA,CAAA,OAAA,CAAA,IAAA,EAAA,EAAA,CAAA;AACA;;AACA,UAAA,IAAA,CAAA,SAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,YAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,aAAA;AACA;AACA,OAxBA,WAyBA,UAAA,GAAA;AAAA,eAAA,OAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AAAA,OAzBA;AA0BA;AA5BA;AAdA,CAAA","sourcesContent":["<template>\r\n  <v-card width=\"450\" id=\"login\" class=\"mx-auto mt-5 at-5\">\r\n    <v-card-title>\r\n      <h1 class=\"h3 mb-3 font-weight-normal\">Please Sign In</h1>\r\n    </v-card-title>\r\n    <v-card-text>\r\n      <v-form class=\"form-signin\" @submit.prevent=\"login\">\r\n        <v-text-field\r\n          v-model=\"user.username\"\r\n          label=\"Username\"\r\n          prepend-icon=\"mdi-account-circle\"\r\n          :rules=\"usernameRules\"\r\n          color=\"#03DAC5\"\r\n        />\r\n        <v-text-field\r\n          v-model=\"user.password\"\r\n          :type=\"showPassword ? 'text' : 'password'\"\r\n          label=\"Password\"\r\n          id=\"password\"\r\n          prepend-icon=\"mdi-lock\"\r\n          :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n          @click:append=\"showPassword = !showPassword\"\r\n          :rules=\"passwordRules\"\r\n          color=\"#03DAC5\"\r\n          @keydown.enter=\"login\"\r\n        />\r\n      </v-form>\r\n      <div id=\"invalidCredentials\" v-if=\"invalidCredentials\">Incorrect Username or Password.</div>\r\n    </v-card-text>\r\n    <v-divider></v-divider>\r\n    <v-card-actions>\r\n      <v-btn outlined color=\"#BB86FC\" :to=\"{ name: 'register' }\">Not Registered?</v-btn>\r\n      <v-spacer></v-spacer>\r\n      <v-btn outlined color=\"#03DAC5\" type=\"submit\" @click=\"login\" @keydown.enter=\"login\">Log In</v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport auth from \"../auth\";\r\n\r\nexport default {\r\n  name: \"login\",\r\n  data() {\r\n    return {\r\n      user: {\r\n        username: \"\",\r\n        password: \"\"\r\n      },\r\n      usernameRules: [v => !!v || \"Username is required.\"],\r\n      passwordRules: [v => !!v || \"Password is required.\"],\r\n      showPassword: false,\r\n      invalidCredentials: false\r\n    };\r\n  },\r\n  methods: {\r\n    login() {\r\n      fetch(`${process.env.VUE_APP_REMOTE_API}/login`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(this.user)\r\n      })\r\n        .then(response => {\r\n          if (response.ok) {\r\n            return response.text();\r\n          } else {\r\n            this.invalidCredentials = true;\r\n          }\r\n        })\r\n        .then(token => {\r\n          if (token != undefined) {\r\n            if (token.includes('\"')) {\r\n              token = token.replace(/\"/g, \"\");\r\n            }\r\n            auth.saveToken(token);\r\n            this.$router.push(\"/user-info\");\r\n            this.$emit(\"update-user\");\r\n          }\r\n        })\r\n        .catch(err => console.error(err));\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#invalidCredentials {\r\n  color: firebrick;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}