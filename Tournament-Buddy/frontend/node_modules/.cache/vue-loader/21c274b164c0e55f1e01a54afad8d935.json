{"remainingRequest":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\TournamentPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\TournamentPage.vue","mtime":1586801574786},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXV0aCBmcm9tICJAL2F1dGgiOw0KaW1wb3J0IEVkaXRUb3VybmFtZW50IGZyb20gIkAvY29tcG9uZW50cy9FZGl0VG91cm5hbWVudC52dWUiOw0KaW1wb3J0IEFjY2VwdEVudHJpZXMgZnJvbSAiQC9jb21wb25lbnRzL0FjY2VwdEVudHJpZXMudnVlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgRWRpdFRvdXJuYW1lbnQsDQogICAgQWNjZXB0RW50cmllcw0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0b3VybmFtZW50OiBudWxsLA0KICAgICAgY3VycmVudFVzZXI6IG51bGwsDQogICAgICBzZWFyY2hUZWFtczogIiIsDQogICAgICB0b3VybmV5VGVhbUhlYWRlcnM6IFsNCiAgICAgICAgeyB0ZXh0OiAiVGVhbSBOYW1lIiwgdmFsdWU6ICJ0ZWFtTmFtZSIgfSwNCiAgICAgICAgeyB0ZXh0OiAiQ2FwdGFpbiIsIHZhbHVlOiAidXNlcm5hbWUiIH0sDQogICAgICAgIHsgdGV4dDogIkNhcHRhaW4gRW1haWwiLCB2YWx1ZTogImVtYWlsIiB9LA0KICAgICAgICB7IHRleHQ6ICIiLCB2YWx1ZTogImJ1dHRvbiIgfQ0KICAgICAgXSwNCiAgICAgIHRvdXJuZXlUZWFtczogew0KICAgICAgICB0ZWFtSWQ6ICIiLA0KICAgICAgICB0ZWFtTmFtZTogIiIsDQogICAgICAgIGNhcHRhaW5Vc2VybmFtZTogIiIsDQogICAgICAgIGNhcHRhaW5FbWFpbDogIiINCiAgICAgIH0sDQogICAgICB0b3VybmFtZW50T3duZXI6IHsNCiAgICAgICAgdXNlcm5hbWU6ICIiDQogICAgICB9DQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldFRvdXJuYW1lbnQoKSB7DQogICAgICBjb25zdCB0b3VybmV5SWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7DQogICAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5WVUVfQVBQX1JFTU9URV9BUEl9L2FwaS90b3VybmFtZW50LyR7dG91cm5leUlkfWAsIHsNCiAgICAgICAgbWV0aG9kOiAiR0VUIiwNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGF1dGguZ2V0VG9rZW4oKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7DQogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgdGhpcy50b3VybmFtZW50ID0gZGF0YTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRUb3VybmFtZW50T3duZXJVc2VybmFtZSgpIHsNCiAgICAgIGNvbnN0IHRvdXJuZXlJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsNCiAgICAgIGZldGNoKA0KICAgICAgICBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX1JFTU9URV9BUEl9L2FwaS91c2VyL3RvdXJuYW1lbnRPd25lci8ke3RvdXJuZXlJZH1gLA0KICAgICAgICB7DQogICAgICAgICAgbWV0aG9kOiAiR0VUIiwNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBhdXRoLmdldFRva2VuKCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgew0KICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC50aGVuKGRhdGEgPT4gKHRoaXMudG91cm5hbWVudE93bmVyID0gZGF0YSkpOw0KICAgIH0sDQogICAgZ2V0VG91cm5leVRlYW1zKCkgew0KICAgICAgY29uc3QgdG91cm5leUlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOw0KICAgICAgZmV0Y2goDQogICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfUkVNT1RFX0FQSX0vYXBpL3RlYW0vdG91cm5hbWVudC8ke3RvdXJuZXlJZH1gLA0KICAgICAgICB7DQogICAgICAgICAgbWV0aG9kOiAiR0VUIiwNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBhdXRoLmdldFRva2VuKCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgew0KICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC50aGVuKHRlYW1zSW5mbyA9PiAodGhpcy50b3VybmV5VGVhbXMgPSB0ZWFtc0luZm8pKTsNCiAgICB9LA0KICAgIGRlbGV0ZVRlYW1Gcm9tVG91cm5hbWVudCh0ZWFtSWQpIHsNCiAgICAgIGNvbnN0IHRvdXJuYW1lbnRJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsNCiAgICAgIGNvbmZpcm0oDQogICAgICAgICJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgdGVhbSBmcm9tIHlvdXIgdG91cm5hbWVudD8iDQogICAgICApICYmDQogICAgICAgIGZldGNoKA0KICAgICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfUkVNT1RFX0FQSX0vYXBpL3RlYW0vdG91cm5hbWVudC8ke3RvdXJuYW1lbnRJZH0/dGVhbUlkPSR7dGVhbUlkfWAsDQogICAgICAgICAgew0KICAgICAgICAgICAgbWV0aG9kOiAiREVMRVRFIiwNCiAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgYXV0aC5nZXRUb2tlbigpDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICApLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgew0KICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgdGhpcy5nZXRUb3VybmV5VGVhbXMoKTsNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5jdXJyZW50VXNlciA9IGF1dGguZ2V0VXNlcigpLmlkOw0KICAgIHRoaXMuZ2V0VG91cm5hbWVudE93bmVyVXNlcm5hbWUoKTsNCiAgICB0aGlzLmdldFRvdXJuZXlUZWFtcygpOw0KICAgIHRoaXMuZ2V0VG91cm5hbWVudCgpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["TournamentPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TournamentPage.vue","sourceRoot":"src/views","sourcesContent":[" <template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col cols=\"3\">\r\n        <v-img :src=\"require('../assets/logo.svg')\" class=\"my-3\" contain height=\"150\" />\r\n      </v-col>\r\n      <v-col cols=\"3\">\r\n        <h1>{{tournament.tournamentName}}</h1>\r\n        <p>Tourney Organizer: {{tournamentOwner.username}}</p>\r\n      </v-col>\r\n      <v-col cols=\"6\">\r\n        <v-row>\r\n          <v-col>\r\n            <h3>Tournament Game/Sport:</h3>\r\n            <p>{{tournament.game}}</p>\r\n          </v-col>\r\n          <v-col>\r\n            <h3>Tournament Prize Description:</h3>\r\n            <p>{{tournament.prizeDescription}}</p>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col>\r\n            <h3>Tournament Entry Fee:</h3>\r\n            <p>$$$ {{tournament.entryFee}}</p>\r\n          </v-col>\r\n          <v-col>\r\n            <h3>Tournament Timeline:</h3>\r\n            <p>From: {{tournament.startDate}} To: {{tournament.endDate}}</p>\r\n          </v-col>\r\n        </v-row>\r\n      </v-col>\r\n      <v-col v-if=\"tournament.tournamentOwner === currentUser\">\r\n        <v-card-actions>\r\n          <edit-tournament :current-tournament=\"tournament\" @update-tournament=\"getTournament()\" />\r\n        </v-card-actions>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <v-row>\r\n      <v-col>\r\n        <v-card>\r\n          <v-card-title>\r\n            Tournament Teams\r\n            <v-spacer></v-spacer>\r\n            <accept-entries\r\n              v-if=\"tournament.tournamentOwner === currentUser\"\r\n              :currentTourney=\"tournament\"\r\n            />\r\n            <v-text-field\r\n              v-model=\"searchTeams\"\r\n              append-icon=\"mdi-magnify\"\r\n              label=\"Search Tournament Teams\"\r\n              single-line\r\n              hide-details\r\n            ></v-text-field>\r\n          </v-card-title>\r\n          <v-data-table :headers=\"tourneyTeamHeaders\" :items=\"tourneyTeams\" :search=\"searchTeams\">\r\n            <template v-slot:item=\"row\">\r\n              <tr>\r\n                <td\r\n                  class=\"clickable\"\r\n                  @click=\"$router.push('/team-page/' + row.item.teamId)\"\r\n                >{{row.item.teamName}}</td>\r\n                <td>{{row.item.captainUsername}}</td>\r\n                <td>{{row.item.captainEmail}}</td>\r\n                <td align=\"right\" width=\"10\">\r\n                  <v-btn\r\n                    v-if=\"tournament.tournamentOwner === currentUser\"\r\n                    class=\"error\"\r\n                    small\r\n                    @click=\"deleteTeamFromTournament(row.item.teamId)\"\r\n                  >Remove Team</v-btn>\r\n                </td>\r\n              </tr>\r\n            </template>\r\n          </v-data-table>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n \r\n <script>\r\nimport auth from \"@/auth\";\r\nimport EditTournament from \"@/components/EditTournament.vue\";\r\nimport AcceptEntries from \"@/components/AcceptEntries.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    EditTournament,\r\n    AcceptEntries\r\n  },\r\n  data() {\r\n    return {\r\n      tournament: null,\r\n      currentUser: null,\r\n      searchTeams: \"\",\r\n      tourneyTeamHeaders: [\r\n        { text: \"Team Name\", value: \"teamName\" },\r\n        { text: \"Captain\", value: \"username\" },\r\n        { text: \"Captain Email\", value: \"email\" },\r\n        { text: \"\", value: \"button\" }\r\n      ],\r\n      tourneyTeams: {\r\n        teamId: \"\",\r\n        teamName: \"\",\r\n        captainUsername: \"\",\r\n        captainEmail: \"\"\r\n      },\r\n      tournamentOwner: {\r\n        username: \"\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    getTournament() {\r\n      const tourneyId = this.$route.params.id;\r\n      fetch(`${process.env.VUE_APP_REMOTE_API}/api/tournament/${tourneyId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + auth.getToken()\r\n        }\r\n      })\r\n        .then(response => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(data => {\r\n          this.tournament = data;\r\n        });\r\n    },\r\n    getTournamentOwnerUsername() {\r\n      const tourneyId = this.$route.params.id;\r\n      fetch(\r\n        `${process.env.VUE_APP_REMOTE_API}/api/user/tournamentOwner/${tourneyId}`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + auth.getToken()\r\n          }\r\n        }\r\n      )\r\n        .then(response => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(data => (this.tournamentOwner = data));\r\n    },\r\n    getTourneyTeams() {\r\n      const tourneyId = this.$route.params.id;\r\n      fetch(\r\n        `${process.env.VUE_APP_REMOTE_API}/api/team/tournament/${tourneyId}`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + auth.getToken()\r\n          }\r\n        }\r\n      )\r\n        .then(response => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(teamsInfo => (this.tourneyTeams = teamsInfo));\r\n    },\r\n    deleteTeamFromTournament(teamId) {\r\n      const tournamentId = this.$route.params.id;\r\n      confirm(\r\n        \"Are you sure you want to remove this team from your tournament?\"\r\n      ) &&\r\n        fetch(\r\n          `${process.env.VUE_APP_REMOTE_API}/api/team/tournament/${tournamentId}?teamId=${teamId}`,\r\n          {\r\n            method: \"DELETE\",\r\n            headers: {\r\n              Authorization: \"Bearer \" + auth.getToken()\r\n            }\r\n          }\r\n        ).then(response => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n        });\r\n      this.getTourneyTeams();\r\n    }\r\n  },\r\n  created() {\r\n    this.currentUser = auth.getUser().id;\r\n    this.getTournamentOwnerUsername();\r\n    this.getTourneyTeams();\r\n    this.getTournament();\r\n  }\r\n};\r\n</script>\r\n \r\n <style>\r\n</style>"]}]}