{"remainingRequest":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\BrowseTournaments.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\BrowseTournaments.vue","mtime":1586700068825},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXV0aCBmcm9tICdAL2F1dGguanMnOw0KaW1wb3J0IEpvaW5Ub3VybmFtZW50IGZyb20gJ0AvY29tcG9uZW50cy9Kb2luVG91cm5hbWVudC52dWUnOw0KDQogIGV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOnsNCiAgICAgIEpvaW5Ub3VybmFtZW50DQogICAgfSwNCiAgICBkYXRhICgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGdhbWVmaWx0ZXI6J0FsbCcsDQogICAgICAgIGRyb3Bkb3duX2dhbWVzOiBbJ0FsbCcsJ0Zvb3RiYWxsJywgJ0Jhc2ViYWxsJywgJ0Jhc2tldGJhbGwnLCAnVm9sbGV5YmFsbCcsICdTdXBlciBTbWFzaCddICAsDQogICAgICAgIHNob3dfY2xvc2VkX3RvdXJuYW1lbnRzOiB0cnVlLA0KICAgICAgICBoZWFkZXJzOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgdGV4dDogJ1RvdXJuYW1lbnQnLA0KICAgICAgICAgICAgYWxpZ246ICdzdGFydCcsDQogICAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgICAgIHZhbHVlOiAnbmFtZScsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7IHRleHQ6ICdHYW1lJywgdmFsdWU6ICdnYW1lJyB9LA0KICAgICAgICAgIHsgdGV4dDogJ1N0YXJ0IERhdGUnLCB2YWx1ZTogJ2RhdGUnIH0sDQogICAgICAgICAgeyB0ZXh0OiAnVG91cm5hbWVudCBQcml6ZScsIHZhbHVlOiAncHJpemUnIH0sDQogICAgICAgICAgeyB0ZXh0OiAnJywgdmFsdWU6ICdqb2luJyB9DQogICAgICAgIF0sDQogICAgICAgIHRvdXJuYW1lbnRzOlt7DQogICAgICAgICAgICB0b3VybmFtZW50TmFtZTonJywNCiAgICAgICAgICAgIGdhbWU6JycsDQogICAgICAgICAgICB0b3VybmFtZW50QmlvOicnDQogICAgICAgIH1dLA0KICAgICAgICBjYXB0YWluc1RlYW1zOlt7DQogICAgICAgICAgdGVhbU5hbWU6JycsDQogICAgICAgICAgdGVhbUJpbzonJywNCiAgICAgICAgICBnYW1lOicnICAgICAgICAgIA0KICAgICAgICB9XSwNCiAgICAgICAgdXNlcklkOicnLA0KICAgICAgICB1c2VyOiBudWxsLA0KICAgICAgICBzbmFja2JhcjogZmFsc2UsDQogICAgICAgIHNuYWNrVGV4dDonWW91ciByZXF1ZXN0IGhhcyBiZWVuIHN1Ym1pdHRlZCEnLA0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBjb21wdXRlZDp7DQogICAgICAgIHNvcnRUb3VybmFtZW50cygpew0KICAgICAgICAgICAgaWYodGhpcy5nYW1lZmlsdGVyID09PSAiQWxsIiAmJiB0aGlzLnNob3dfY2xvc2VkX3RvdXJuYW1lbnRzKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b3VybmFtZW50czsNCiAgICAgICAgICAgIH0gZWxzZSBpZih0aGlzLmdhbWVmaWx0ZXIgIT09ICJBbGwiICYmIHRoaXMuc2hvd19jbG9zZWRfdG91cm5hbWVudHMpew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMudG91cm5hbWVudHMuZmlsdGVyKCh0ZWFtKT0+IHRlYW0uZ2FtZSA9PT0gdGhpcy5nYW1lZmlsdGVyKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZih0aGlzLmdhbWVmaWx0ZXIgPT09ICJBbGwiICYmICF0aGlzLnNob3dfY2xvc2VkX3RvdXJuYW1lbnRzKXsNCiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG91cm5hbWVudHMuZmlsdGVyKCh0ZWFtKT0+IHRlYW0uYWNjZXB0aW5nRW50cmllcyA9PT0gdHJ1ZSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b3VybmFtZW50cy5maWx0ZXIoKHRlYW0pPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiB0ZWFtLmFjY2VwdGluZ0VudHJpZXMgPT09IHRydWUgJiYgdGVhbS5nYW1lID09PSB0aGlzLmdhbWVmaWx0ZXINCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgIGNyZWF0ZWQoKSB7DQogICAgICAgDQogICAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5WVUVfQVBQX1JFTU9URV9BUEl9L2FwaS90b3VybmFtZW50YCwgew0KICAgICAgICBtZXRob2Q6ICdHRVQnLA0KICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh7DQogICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIGF1dGguZ2V0VG9rZW4oKSwNCiAgICAgICAgfSksDQogICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLA0KICAgICAgICB9KQ0KICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgfSANCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsNCiAgICAgICAgICB0aGlzLnRvdXJuYW1lbnRzID0gZGF0YTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7DQoNCiAgDQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgIGhhbmRsZVNuYWNrKCl7DQogICAgICAgIHRoaXMuc25hY2tiYXI9dHJ1ZTsNCiAgICAgIH0NCiAgICB9DQoNCg0KDQoNCg0KICAgIA0KICB9DQo="},{"version":3,"sources":["BrowseTournaments.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA","file":"BrowseTournaments.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-container>\r\n\r\n    <v-card-title large class=\"elevation-5\">Browse Tournaments</v-card-title >\r\n\r\n<v-container>\r\n  <v-row>\r\n\r\n    <v-col sm=\"1\">\r\n      <p>Sort by:</p>\r\n    </v-col>\r\n\r\n    <v-col>\r\n      <v-overflow-btn\r\n        class=\"elevation-5\"\r\n        :items=\"dropdown_games\"\r\n        label=\"Choose Sport\"\r\n        v-model=\"gamefilter\"\r\n        target=\"#dropdown-example\"\r\n      ></v-overflow-btn>\r\n    </v-col>\r\n\r\n  </v-row>\r\n  <v-switch inset v-model=\"show_closed_tournaments\" :label=\"show_closed_tournaments? 'Showing All Tournaments':'Showing Only Open Tournaments'\"></v-switch>\r\n</v-container>\r\n\r\n<v-data-table :headers=\"headers\" :items=\"sortTournaments\" class=\"elevation-10\">\r\n      <template v-slot:item=\"row\">\r\n          <tr>\r\n            <td class=\"clickable\" @click=\"$router.push('/tournament-page/' + row.item.tournamentId)\">{{row.item.tournamentName}}</td>\r\n            <td>{{row.item.game}}</td>\r\n            <td>{{row.item.startDate}}</td>\r\n            <td>{{row.item.prizeDescription}}</td>\r\n            <td>\r\n                <join-tournament :game=\"row.item.game\" :tournamentId=\"row.item.tournamentId\" @join-success=\"handleSnack()\"></join-tournament>\r\n            </td>\r\n          </tr>\r\n      </template>\r\n</v-data-table>\r\n\r\n\r\n</v-container>\r\n</template>\r\n\r\n<script>\r\nimport auth from '@/auth.js';\r\nimport JoinTournament from '@/components/JoinTournament.vue';\r\n\r\n  export default {\r\n    components:{\r\n      JoinTournament\r\n    },\r\n    data () {\r\n      return {\r\n        gamefilter:'All',\r\n        dropdown_games: ['All','Football', 'Baseball', 'Basketball', 'Volleyball', 'Super Smash']  ,\r\n        show_closed_tournaments: true,\r\n        headers: [\r\n          {\r\n            text: 'Tournament',\r\n            align: 'start',\r\n            sortable: true,\r\n            value: 'name',\r\n          },\r\n          { text: 'Game', value: 'game' },\r\n          { text: 'Start Date', value: 'date' },\r\n          { text: 'Tournament Prize', value: 'prize' },\r\n          { text: '', value: 'join' }\r\n        ],\r\n        tournaments:[{\r\n            tournamentName:'',\r\n            game:'',\r\n            tournamentBio:''\r\n        }],\r\n        captainsTeams:[{\r\n          teamName:'',\r\n          teamBio:'',\r\n          game:''          \r\n        }],\r\n        userId:'',\r\n        user: null,\r\n        snackbar: false,\r\n        snackText:'Your request has been submitted!',\r\n      }\r\n    },\r\n\r\n    computed:{\r\n        sortTournaments(){\r\n            if(this.gamefilter === \"All\" && this.show_closed_tournaments){\r\n                return this.tournaments;\r\n            } else if(this.gamefilter !== \"All\" && this.show_closed_tournaments){\r\n            return this.tournaments.filter((team)=> team.game === this.gamefilter);\r\n            } else if(this.gamefilter === \"All\" && !this.show_closed_tournaments){\r\n              return this.tournaments.filter((team)=> team.acceptingEntries === true);\r\n            } else {\r\n              return this.tournaments.filter((team)=> {\r\n                return team.acceptingEntries === true && team.game === this.gamefilter\r\n                });\r\n            }\r\n        }\r\n    },\r\n     created() {\r\n       \r\n      fetch(`${process.env.VUE_APP_REMOTE_API}/api/tournament`, {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n        Authorization: 'Bearer ' + auth.getToken(),\r\n        }),\r\n        credentials: 'same-origin',\r\n        })\r\n        .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } \r\n        })\r\n        .then((data) => {\r\n          this.tournaments = data;\r\n        })\r\n        .catch((err) => console.error(err));\r\n\r\n  \r\n    },\r\n    methods:{\r\n      handleSnack(){\r\n        this.snackbar=true;\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    \r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}