{"remainingRequest":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\TournamentPairings.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\TournamentPairings.vue","mtime":1587123339956},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXBpIGZyb20gIkAvYXBpLmpzIjsNCmltcG9ydCBhdXRoIGZyb20gIkAvYXV0aC5qcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdG91cm5hbWVudDogbnVsbCwNCiAgICAgIHRlYW1zOiBudWxsLA0KICAgICAgbWF0Y2h1cHM6IG51bGwsDQogICAgICBob21lVGVhbTogbnVsbCwNCiAgICAgIGF3YXlUZWFtOiBudWxsLA0KICAgICAgc2VsZWN0ZWRNYXRjaHVwOiBudWxsLA0KICAgICAgcm91bmQ6IE51bWJlci5wYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMucm91bmQpLA0KICAgICAgZmluYWxNYXRjaHVwczogW10NCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHJlYWR5VG9TdWJtaXQoKSB7DQogICAgICBpZiAodGhpcy5zZWxlY3RlZE1hdGNodXAgIT09ICJCWUUiKSB7DQogICAgICAgIHJldHVybiAoDQogICAgICAgICAgdGhpcy5ob21lVGVhbSAhPT0gbnVsbCAmJg0KICAgICAgICAgIHRoaXMuYXdheVRlYW0gIT09IG51bGwgJiYNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkTWF0Y2h1cCAhPT0gbnVsbCAmJg0KICAgICAgICAgIHRoaXMuaG9tZVRlYW0gIT09IHRoaXMuYXdheVRlYW0NCiAgICAgICAgKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiB0aGlzLmhvbWVUZWFtICE9PSBudWxsOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldFRvdXJuYW1lbnQoKSB7DQogICAgICBhcGkNCiAgICAgICAgLmdldFRvdXJuYW1lbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKQ0KICAgICAgICAudGhlbihyZXN1bHRzID0+ICh0aGlzLnRvdXJuYW1lbnQgPSByZXN1bHRzKSk7DQogICAgfSwNCiAgICBnZXRUb3VybmFtZW50VGVhbXMoKSB7DQogICAgICBhcGkuZ2V0VG91cm5leVRlYW1zKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihyZXN1bHRzID0+IHsNCiAgICAgICAgdGhpcy50ZWFtcyA9IHJlc3VsdHM7DQogICAgICAgIHRoaXMubnVtT2ZNYXRjaHVwcyhyZXN1bHRzKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgcmVzZXRNYXRjaHVwcygpew0KICAgICAgdGhpcy5maW5hbE1hdGNodXBzID0gW107DQogICAgICB0aGlzLm1hdGNodXBzID0gW107DQogICAgICB0aGlzLmdldFRvdXJuYW1lbnRUZWFtcygpOw0KICAgIH0sDQogICAgbnVtT2ZNYXRjaHVwcyh0ZWFtcykgew0KICAgICAgbGV0IG51bU9mTWF0Y2h1cHMgPSBNYXRoLmNlaWwodGVhbXMubGVuZ3RoIC8gMik7DQogICAgICBsZXQgZW1wdHlNYXRjaHVwcyA9IFtdOw0KDQogICAgICBpZiAodGhpcy50ZWFtcy5sZW5ndGggJSAyID09PSAwKSB7DQogICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBudW1PZk1hdGNodXBzOyBpbmRleCsrKSB7DQogICAgICAgICAgZW1wdHlNYXRjaHVwcy5wdXNoKCJNYXRjaCAiICsgKGluZGV4ICsgMSkpOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBmb3IgKGxldCBpbmRleCA9IDE7IGluZGV4IDwgbnVtT2ZNYXRjaHVwczsgaW5kZXgrKykgew0KICAgICAgICAgIGVtcHR5TWF0Y2h1cHMucHVzaCgiTWF0Y2ggIiArIGluZGV4KTsNCiAgICAgICAgfQ0KICAgICAgICBlbXB0eU1hdGNodXBzLnB1c2goIkJZRSIpOw0KICAgICAgfQ0KDQogICAgICB0aGlzLm1hdGNodXBzID0gZW1wdHlNYXRjaHVwczsNCiAgICB9LA0KICAgIGNyZWF0ZU1hdGNodXAoKSB7DQogICAgICBpZiAodGhpcy5zZWxlY3RlZE1hdGNodXAgPT09ICJCWUUiKSB7DQogICAgICAgIHRoaXMuZmluYWxNYXRjaHVwcy5wdXNoKHsNCiAgICAgICAgICByb3VuZDogdGhpcy5yb3VuZCwNCiAgICAgICAgICB0b3VybmFtZW50SWQ6IHRoaXMudG91cm5hbWVudC50b3VybmFtZW50SWQsDQogICAgICAgICAgaG9tZVRlYW06IHRoaXMuaG9tZVRlYW0sDQogICAgICAgICAgYXdheVRlYW06IG51bGwNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmZpbmFsTWF0Y2h1cHMucHVzaCh7DQogICAgICAgICAgcm91bmQ6IHRoaXMucm91bmQsDQogICAgICAgICAgdG91cm5hbWVudElkOiB0aGlzLnRvdXJuYW1lbnQudG91cm5hbWVudElkLA0KICAgICAgICAgIGhvbWVUZWFtOiB0aGlzLmhvbWVUZWFtLA0KICAgICAgICAgIGF3YXlUZWFtOiB0aGlzLmF3YXlUZWFtDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgdGhpcy50ZWFtcyA9IHRoaXMudGVhbXMuZmlsdGVyKA0KICAgICAgICB0ZWFtID0+IHRlYW0gIT09IHRoaXMuaG9tZVRlYW0gJiYgdGVhbSAhPT0gdGhpcy5hd2F5VGVhbQ0KICAgICAgKTsNCiAgICAgIHRoaXMubWF0Y2h1cHMgPSB0aGlzLm1hdGNodXBzLmZpbHRlcigNCiAgICAgICAgbWF0Y2h1cCA9PiBtYXRjaHVwICE9PSB0aGlzLnNlbGVjdGVkTWF0Y2h1cA0KICAgICAgKTsNCg0KICAgICAgdGhpcy5ob21lVGVhbSA9IG51bGw7DQogICAgICB0aGlzLmF3YXlUZWFtID0gbnVsbDsNCiAgICAgIHRoaXMuc2VsZWN0ZWRNYXRjaHVwID0gbnVsbDsNCiAgICB9LA0KICAgIHN1Ym1pdE1hdGNodXBzKCkgew0KICAgICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9SRU1PVEVfQVBJfS9hcGkvdG91cm5hbWVudC9tYXRjaHVwc2AsIHsNCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBhdXRoLmdldFRva2VuKCksDQogICAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIg0KICAgICAgICB9LA0KICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLmZpbmFsTWF0Y2h1cHMpDQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC90b3VybmFtZW50LXBhZ2UvJHt0aGlzLnRvdXJuYW1lbnQudG91cm5hbWVudElkfWApOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRUb3VybmFtZW50KCk7DQogICAgdGhpcy5nZXRUb3VybmFtZW50VGVhbXMoKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["TournamentPairings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TournamentPairings.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col class=\"d-flex flex-wrap justify-center\" cols=\"12\">\r\n        <v-btn\r\n          :to=\"{name: 'tournament-page', params: {id: this.tournament.tournamentId}}\"\r\n          class=\"backbutton\"\r\n        ><v-icon color=\"#DCAE3F\">mdi-trophy-outline</v-icon>\r\n         <v-icon color=\"#A4A3A2\">mdi-google-controller</v-icon>\r\n         <v-icon color=\"#DCAE3F\">mdi-trophy-outline</v-icon> \r\n         BACK TO TOURNAMENT HOME PAGE \r\n         <v-icon color=\"#DCAE3F\">mdi-trophy-outline</v-icon>\r\n         <v-icon color=\"#A4A3A2\">mdi-google-controller</v-icon>\r\n         <v-icon color=\"#DCAE3F\">mdi-trophy-outline</v-icon> \r\n         </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row justify=\"center\">\r\n      <v-col cols=\"6\" sm=\"3\">\r\n        <v-img :src=\"require('../assets/logo.svg')\" class=\"my-3\" contain height=\"150\" />\r\n      </v-col>\r\n      <v-col cols=\"6\" sm=\"3\">\r\n        <h1>{{tournament.tournamentName}}</h1>\r\n      </v-col>\r\n      <v-col cols=\"12\" sm=\"3\">\r\n        <h3>Tournament Game/Sport:</h3>\r\n        <p>{{tournament.game}}</p>\r\n      </v-col>\r\n      <v-col cols=\"12\" sm=\"3\">\r\n        <h3>Tournament Prize Description:</h3>\r\n        <p>{{tournament.prizeDescription}}</p>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <p\r\n      v-if=\"homeTeam === awayTeam && homeTeam !== null && selectedMatchup !== 'BYE'\"\r\n      class=\"red--text text-center\"\r\n    >Can't choose same team for Home and Away</p>\r\n\r\n    <v-row justify=\"center\">\r\n      <v-col class=\"d-flex\" cols=\"6\" sm=\"3\">\r\n        <v-select\r\n          :disabled=\"teams.length === 0\"\r\n          :items=\"matchups\"\r\n          label=\"Match\"\r\n          v-model=\"selectedMatchup\"\r\n          outlined\r\n          item-text\r\n          color=\"#03DAC5\"\r\n        ></v-select>\r\n      </v-col>\r\n      <v-col class=\"d-flex\" cols=\"6\" sm=\"3\">\r\n        <v-select\r\n          :items=\"teams\"\r\n          label=\"Home Team\"\r\n          item-text=\"teamName\"\r\n          return-object=\"true\"\r\n          v-model=\"homeTeam\"\r\n          outlined\r\n          :disabled=\"teams.length === 0\"\r\n          color=\"#03DAC5\"\r\n        ></v-select>\r\n      </v-col>\r\n      <v-col class=\"d-flex\" cols=\"6\" sm=\"3\">\r\n        <v-select\r\n          :items=\"teams\"\r\n          label=\"Away Team\"\r\n          item-text=\"teamName\"\r\n          return-object=\"true\"\r\n          v-model=\"awayTeam\"\r\n          outlined\r\n          :disabled=\"selectedMatchup === 'BYE' || teams.length === 0\"\r\n          color=\"#03DAC5\"\r\n        ></v-select>\r\n      </v-col>\r\n      <v-col class=\"d-flex\" cols=\"6\" sm=\"2\">\r\n        <v-btn\r\n          v-if=\"readyToSubmit && teams.length > 0\"\r\n          @click=\"createMatchup()\"\r\n          color=\"#03DAC5\"\r\n        >Add Matchup</v-btn>\r\n        <v-btn v-if=\"readyToSubmit === false && teams.length > 0\" disabled>Add Match</v-btn>\r\n        <v-btn v-if=\"teams.length === 0\" color=\"success\" @click=\"submitMatchups()\">Submit Matches</v-btn>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col class=\"justify-center d-flex\">\r\n        <v-btn\r\n          v-if=\"finalMatchups.length > 0\"\r\n          color=\"error\"\r\n          small\r\n          @click=\"resetMatchups()\"\r\n        >Reset Matches</v-btn>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col v-for=\"matchup in finalMatchups\" :key=\"matchup\" col=\"12\" sm=\"3\">\r\n        <v-card class=\"mx-auto\" outlined v-if=\"matchup.awayTeam !== null\">\r\n          <v-list-item-content class=\"text-center\">\r\n            <v-list-item-title class=\"headline mb-1\">{{matchup.homeTeam.teamName}}</v-list-item-title>\r\n            <v-list-item-subtitle>Vs.</v-list-item-subtitle>\r\n            <v-list-item-title class=\"headline mb-1\">{{matchup.awayTeam.teamName}}</v-list-item-title>\r\n          </v-list-item-content>\r\n        </v-card>\r\n        <v-card class=\"mx-auto\" outlined v-if=\"matchup.awayTeam === null\">\r\n          <v-list-item-content class=\"text-center\">\r\n            <v-list-item-title class=\"headline mb-1\">{{matchup.homeTeam.teamName}}</v-list-item-title>\r\n            <v-list-item-subtitle>has a</v-list-item-subtitle>\r\n            <v-list-item-title class=\"headline mb-1\">BYE</v-list-item-title>\r\n          </v-list-item-content>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/api.js\";\r\nimport auth from \"@/auth.js\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      tournament: null,\r\n      teams: null,\r\n      matchups: null,\r\n      homeTeam: null,\r\n      awayTeam: null,\r\n      selectedMatchup: null,\r\n      round: Number.parseInt(this.$route.params.round),\r\n      finalMatchups: []\r\n    };\r\n  },\r\n  computed: {\r\n    readyToSubmit() {\r\n      if (this.selectedMatchup !== \"BYE\") {\r\n        return (\r\n          this.homeTeam !== null &&\r\n          this.awayTeam !== null &&\r\n          this.selectedMatchup !== null &&\r\n          this.homeTeam !== this.awayTeam\r\n        );\r\n      } else {\r\n        return this.homeTeam !== null;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getTournament() {\r\n      api\r\n        .getTournament(this.$route.params.id)\r\n        .then(results => (this.tournament = results));\r\n    },\r\n    getTournamentTeams() {\r\n      api.getTourneyTeams(this.$route.params.id).then(results => {\r\n        this.teams = results;\r\n        this.numOfMatchups(results);\r\n      });\r\n    },\r\n    resetMatchups(){\r\n      this.finalMatchups = [];\r\n      this.matchups = [];\r\n      this.getTournamentTeams();\r\n    },\r\n    numOfMatchups(teams) {\r\n      let numOfMatchups = Math.ceil(teams.length / 2);\r\n      let emptyMatchups = [];\r\n\r\n      if (this.teams.length % 2 === 0) {\r\n        for (let index = 0; index < numOfMatchups; index++) {\r\n          emptyMatchups.push(\"Match \" + (index + 1));\r\n        }\r\n      } else {\r\n        for (let index = 1; index < numOfMatchups; index++) {\r\n          emptyMatchups.push(\"Match \" + index);\r\n        }\r\n        emptyMatchups.push(\"BYE\");\r\n      }\r\n\r\n      this.matchups = emptyMatchups;\r\n    },\r\n    createMatchup() {\r\n      if (this.selectedMatchup === \"BYE\") {\r\n        this.finalMatchups.push({\r\n          round: this.round,\r\n          tournamentId: this.tournament.tournamentId,\r\n          homeTeam: this.homeTeam,\r\n          awayTeam: null\r\n        });\r\n      } else {\r\n        this.finalMatchups.push({\r\n          round: this.round,\r\n          tournamentId: this.tournament.tournamentId,\r\n          homeTeam: this.homeTeam,\r\n          awayTeam: this.awayTeam\r\n        });\r\n      }\r\n      this.teams = this.teams.filter(\r\n        team => team !== this.homeTeam && team !== this.awayTeam\r\n      );\r\n      this.matchups = this.matchups.filter(\r\n        matchup => matchup !== this.selectedMatchup\r\n      );\r\n\r\n      this.homeTeam = null;\r\n      this.awayTeam = null;\r\n      this.selectedMatchup = null;\r\n    },\r\n    submitMatchups() {\r\n      fetch(`${process.env.VUE_APP_REMOTE_API}/api/tournament/matchups`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + auth.getToken(),\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(this.finalMatchups)\r\n      }).then(response => {\r\n        if (response.ok) {\r\n          this.$router.push(`/tournament-page/${this.tournament.tournamentId}`);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getTournament();\r\n    this.getTournamentTeams();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}