{"remainingRequest":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\BrowseTournaments.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\BrowseTournaments.vue","mtime":1587070499360},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXV0aCBmcm9tICJAL2F1dGguanMiOw0KaW1wb3J0IEpvaW5Ub3VybmFtZW50IGZyb20gIkAvY29tcG9uZW50cy9Kb2luVG91cm5hbWVudC52dWUiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBKb2luVG91cm5hbWVudA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBnYW1lZmlsdGVyOiAiQWxsIiwNCiAgICAgIGRyb3Bkb3duX2dhbWVzOiBbDQogICAgICAgICJBbGwiLA0KICAgICAgICAiVm9sbGV5YmFsbCIsDQogICAgICAgICJCYXNrZXRiYWxsIiwNCiAgICAgICAgIlNvY2NlciIsDQogICAgICAgICJIb2NrZXkiLA0KICAgICAgICAiQmlrZSBQb2xvIiwNCiAgICAgICAgIkV1Y2hyZSIsDQogICAgICAgICJQb2tlciIsDQogICAgICAgICJEbkQiLA0KICAgICAgICAiTWFnaWMgVGhlIEdhdGhlcmluZyIsDQogICAgICAgICJTdXBlciBTbWFzaCBCcm90aGVycyIsDQogICAgICAgICJPdGhlciINCiAgICAgIF0sDQoNCiAgICAgIHNob3dfY2xvc2VkX3RvdXJuYW1lbnRzOiB0cnVlLA0KICAgICAgaGVhZGVyczogWw0KICAgICAgICB7DQogICAgICAgICAgdGV4dDogIlRvdXJuYW1lbnQiLA0KICAgICAgICAgIGFsaWduOiAic3RhcnQiLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgIHZhbHVlOiAibmFtZSINCiAgICAgICAgfSwNCiAgICAgICAgeyB0ZXh0OiAiR2FtZSIsIHZhbHVlOiAiZ2FtZSIgfSwNCiAgICAgICAgeyB0ZXh0OiAiU3RhcnQgRGF0ZSIsIHZhbHVlOiAic3RhcnREYXRlIiB9LA0KICAgICAgICB7IHRleHQ6ICJFbmQgRGF0ZSIsIHZhbHVlOiAiZW5kRGF0ZSIgfSwNCiAgICAgICAgeyB0ZXh0OiAiVG91cm5hbWVudCBQcml6ZSIsIHZhbHVlOiAicHJpemUiIH0sDQogICAgICAgIHsgdGV4dDogIiIsIHZhbHVlOiAiam9pbiIgfQ0KICAgICAgXSwNCiAgICAgIHRvdXJuYW1lbnRzOiBbDQogICAgICAgIHsNCiAgICAgICAgICB0b3VybmFtZW50TmFtZTogIiIsDQogICAgICAgICAgZ2FtZTogIiIsDQogICAgICAgICAgdG91cm5hbWVudEJpbzogIiINCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgIGNhcHRhaW5zVGVhbXM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHRlYW1OYW1lOiAiIiwNCiAgICAgICAgICB0ZWFtQmlvOiAiIiwNCiAgICAgICAgICBnYW1lOiAiIg0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgdXNlcklkOiAiIiwNCiAgICAgIHVzZXI6IHRoaXMuZ2V0VXNlcigpLA0KICAgICAgc25hY2tiYXI6IGZhbHNlLA0KICAgICAgc25hY2tUZXh0OiAiWW91ciByZXF1ZXN0IGhhcyBiZWVuIHN1Ym1pdHRlZCEiDQogICAgfTsNCiAgfSwNCg0KICBjb21wdXRlZDogew0KICAgIHNvcnRUb3VybmFtZW50cygpIHsNCiAgICAgIGlmICh0aGlzLmdhbWVmaWx0ZXIgPT09ICJBbGwiICYmIHRoaXMuc2hvd19jbG9zZWRfdG91cm5hbWVudHMpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMudG91cm5hbWVudHM7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuZ2FtZWZpbHRlciAhPT0gIkFsbCIgJiYgdGhpcy5zaG93X2Nsb3NlZF90b3VybmFtZW50cykgew0KICAgICAgICByZXR1cm4gdGhpcy50b3VybmFtZW50cy5maWx0ZXIodG91cm5leSA9PiB0b3VybmV5LmdhbWUgPT09IHRoaXMuZ2FtZWZpbHRlcik7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuZ2FtZWZpbHRlciA9PT0gIkFsbCIgJiYgIXRoaXMuc2hvd19jbG9zZWRfdG91cm5hbWVudHMpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMudG91cm5hbWVudHMuZmlsdGVyKHRvdXJuZXkgPT4gdG91cm5leS5hY2NlcHRpbmdFbnRyaWVzID09PSB0cnVlICYmICF0aGlzLnRvdXJuYW1lbnRTdGFydGVkKHRvdXJuZXkpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiB0aGlzLnRvdXJuYW1lbnRzLmZpbHRlcih0b3VybmV5ID0+IHsNCiAgICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgdG91cm5leS5hY2NlcHRpbmdFbnRyaWVzID09PSB0cnVlICYmIHRvdXJuZXkuZ2FtZSA9PT0gdGhpcy5nYW1lZmlsdGVyICYmICF0aGlzLnRvdXJuYW1lbnRTdGFydGVkKHRvdXJuZXkpDQogICAgICAgICAgKTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIGZldGNoKGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfUkVNT1RFX0FQSX0vYXBpL3RvdXJuYW1lbnQvcHVibGljYCwgew0KICAgICAgbWV0aG9kOiAiR0VUIiwNCiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHsNCiAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgYXV0aC5nZXRUb2tlbigpDQogICAgICB9KSwNCiAgICAgIGNyZWRlbnRpYWxzOiAic2FtZS1vcmlnaW4iDQogICAgfSkNCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgICB0aGlzLnRvdXJuYW1lbnRzID0gZGF0YTsNCiAgICAgIH0pDQogICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVTbmFjaygpIHsNCiAgICAgIHRoaXMuc25hY2tUZXh0ID0gIlRoYW5rIHlvdSwgeW91ciByZXF1ZXN0IGhhcyBiZWVuIHN1Ym1pdHRlZCEiOw0KICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7DQogICAgfSwNCiAgICBkdXBsaWNhdGVSZXF1ZXN0U25hY2soKSB7DQogICAgICB0aGlzLnNuYWNrVGV4dCA9DQogICAgICAgICJZb3UgbXVzdCBqb2luIHdpdGggYSBjb21wYXRpYmxlIHRlYW0sIG9yIHlvdSBhbHJlYWR5IGhhdmUgYSBwZW5kaW5nIHJlcXVlc3QiOw0KICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7DQogICAgfSwNCiAgICB0b3VybmFtZW50U3RhcnRlZCh0b3VybmFtZW50KSB7DQogICAgICB2YXIgZGF0ZTEgPSB0b3VybmFtZW50LnN0YXJ0RGF0ZTsNCiAgICAgIGRhdGUxID0gbmV3IERhdGUoZGF0ZTEpOw0KICAgICAgdmFyIGRhdGUyID0gbmV3IERhdGUoKTsNCiAgICAgIHJldHVybiBkYXRlMSA8PSBkYXRlMjsNCiAgICB9LA0KICAgIGdldFVzZXIoKSB7DQogICAgICByZXR1cm4gYXV0aC5nZXRVc2VyKCk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["BrowseTournaments.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BrowseTournaments.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-container>\r\n    <v-card-title large flat>Browse Tournaments</v-card-title>\r\n\r\n    <v-container>\r\n      <v-row>\r\n        <v-col cols=\"1\" class=\"d-flex justify-start align-center\">\r\n          <v-card></v-card>\r\n          <p>Filter by:</p>\r\n        </v-col>\r\n\r\n        <v-col xs=\"3\" md=\"3\">\r\n          <v-overflow-btn\r\n            color=\"#03DAC5\"\r\n            :items=\"dropdown_games\"\r\n            label=\"Choose Sport\"\r\n            v-model=\"gamefilter\"\r\n            target=\"#dropdown-example\"\r\n          ></v-overflow-btn>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"4\" class=\"d-flex align-center\">\r\n          <v-card outlined class=\"d-flex justify-center align-center\">\r\n            <v-card-text>Show Closed Tournaments?</v-card-text>\r\n            <v-card-actions>\r\n              <v-switch\r\n                color=\"#03DAC5\"\r\n                inset\r\n                v-model=\"show_closed_tournaments\"\r\n                :label=\"show_closed_tournaments? 'Yes':'No'\"\r\n              ></v-switch>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n\r\n    <v-data-table :headers=\"headers\" :items=\"sortTournaments\" flat>\r\n      <template v-slot:item=\"row\">\r\n        <tr>\r\n          <td v-if=\"user === null || user === undefined\">{{row.item.tournamentName}}</td>\r\n          <td v-if=\"user !== null\" class=\"clickable\" @click=\"$router.push('/tournament-page/' + row.item.tournamentId)\">\r\n            <v-btn small outlined block>{{row.item.tournamentName}}</v-btn>\r\n          </td>\r\n          <td>{{row.item.game}}</td>\r\n          <td>{{row.item.startDate}}</td>\r\n          <td>{{row.item.endDate}}</td>\r\n          <td>{{row.item.prizeDescription}}</td>\r\n          <td>\r\n            <join-tournament\r\n              v-if=\"row.item.acceptingEntries===true && tournamentStarted(row.item) === false && user !== null\"\r\n              :game=\"row.item.game\"\r\n              :tournamentId=\"row.item.tournamentId\"\r\n              @join-success=\"handleSnack()\"\r\n              @duplicate-request=\"duplicateRequestSnack()\"\r\n            ></join-tournament>\r\n            <v-row justify=\"center\">\r\n              <v-btn\r\n                class=\"mxauto\"\r\n                v-if=\"row.item.acceptingEntries===false || tournamentStarted(row.item) === true || user === null || user === undefined\"\r\n                disabled\r\n                color=\"primary\"\r\n              >\r\n                <v-icon dark>mdi-send</v-icon>Join\r\n              </v-btn>\r\n            </v-row>\r\n          </td>\r\n        </tr>\r\n      </template>\r\n    </v-data-table>\r\n\r\n    <v-snackbar v-model=\"snackbar\">\r\n      {{ snackText }}\r\n      <v-btn color=\"#03DAC5\" text @click=\"snackbar = false\">Close</v-btn>\r\n    </v-snackbar>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport auth from \"@/auth.js\";\r\nimport JoinTournament from \"@/components/JoinTournament.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    JoinTournament\r\n  },\r\n  data() {\r\n    return {\r\n      gamefilter: \"All\",\r\n      dropdown_games: [\r\n        \"All\",\r\n        \"Volleyball\",\r\n        \"Basketball\",\r\n        \"Soccer\",\r\n        \"Hockey\",\r\n        \"Bike Polo\",\r\n        \"Euchre\",\r\n        \"Poker\",\r\n        \"DnD\",\r\n        \"Magic The Gathering\",\r\n        \"Super Smash Brothers\",\r\n        \"Other\"\r\n      ],\r\n\r\n      show_closed_tournaments: true,\r\n      headers: [\r\n        {\r\n          text: \"Tournament\",\r\n          align: \"start\",\r\n          sortable: true,\r\n          value: \"name\"\r\n        },\r\n        { text: \"Game\", value: \"game\" },\r\n        { text: \"Start Date\", value: \"startDate\" },\r\n        { text: \"End Date\", value: \"endDate\" },\r\n        { text: \"Tournament Prize\", value: \"prize\" },\r\n        { text: \"\", value: \"join\" }\r\n      ],\r\n      tournaments: [\r\n        {\r\n          tournamentName: \"\",\r\n          game: \"\",\r\n          tournamentBio: \"\"\r\n        }\r\n      ],\r\n      captainsTeams: [\r\n        {\r\n          teamName: \"\",\r\n          teamBio: \"\",\r\n          game: \"\"\r\n        }\r\n      ],\r\n      userId: \"\",\r\n      user: this.getUser(),\r\n      snackbar: false,\r\n      snackText: \"Your request has been submitted!\"\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    sortTournaments() {\r\n      if (this.gamefilter === \"All\" && this.show_closed_tournaments) {\r\n        return this.tournaments;\r\n      } else if (this.gamefilter !== \"All\" && this.show_closed_tournaments) {\r\n        return this.tournaments.filter(tourney => tourney.game === this.gamefilter);\r\n      } else if (this.gamefilter === \"All\" && !this.show_closed_tournaments) {\r\n        return this.tournaments.filter(tourney => tourney.acceptingEntries === true && !this.tournamentStarted(tourney));\r\n      } else {\r\n        return this.tournaments.filter(tourney => {\r\n          return (\r\n            tourney.acceptingEntries === true && tourney.game === this.gamefilter && !this.tournamentStarted(tourney)\r\n          );\r\n        });\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    fetch(`${process.env.VUE_APP_REMOTE_API}/api/tournament/public`, {\r\n      method: \"GET\",\r\n      headers: new Headers({\r\n        Authorization: \"Bearer \" + auth.getToken()\r\n      }),\r\n      credentials: \"same-origin\"\r\n    })\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        this.tournaments = data;\r\n      })\r\n      .catch(err => console.error(err));\r\n  },\r\n  methods: {\r\n    handleSnack() {\r\n      this.snackText = \"Thank you, your request has been submitted!\";\r\n      this.snackbar = true;\r\n    },\r\n    duplicateRequestSnack() {\r\n      this.snackText =\r\n        \"You must join with a compatible team, or you already have a pending request\";\r\n      this.snackbar = true;\r\n    },\r\n    tournamentStarted(tournament) {\r\n      var date1 = tournament.startDate;\r\n      date1 = new Date(date1);\r\n      var date2 = new Date();\r\n      return date1 <= date2;\r\n    },\r\n    getUser() {\r\n      return auth.getUser();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.elevation-5 {\r\n  width: 15em;\r\n}\r\n</style>"]}]}