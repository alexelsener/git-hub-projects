{"remainingRequest":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\UserInfo.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\src\\views\\UserInfo.vue","mtime":1586531735254},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Student\\workspace\\capstone-tournament_hosting\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNsaWNrYWJsZXsKICBjdXJzb3I6IHBvaW50ZXI7Cn0K"},{"version":3,"sources":["UserInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;AACA","file":"UserInfo.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <v-card class=\"ml-3 mt-4\" max-width=\"600\">\r\n      <v-list-item>\r\n        <v-list-item-avatar tile size=\"150\" color=\"grey\"></v-list-item-avatar>\r\n        <v-list-item-content>\r\n          <v-list-item-title class=\"headline mb-1\">{{user.firstName}} {{user.lastName}}</v-list-item-title>\r\n          <div class=\"overline\">Username: {{user.username}}</div>\r\n          <div class=\"overline\">Email: {{user.email}}</div>\r\n          <v-card-actions>\r\n            <edit-user :current-user=\"user\" @update-user=\"getUser()\"/>\r\n          </v-card-actions>\r\n        </v-list-item-content>\r\n      </v-list-item>\r\n    </v-card>\r\n    <v-row class=\"mx-auto\">\r\n      <v-col>\r\n        <v-data-table :headers=\"teamHeaders\" :items=\"teams\" :items-per-page=\"5\" class=\"elevation-1\">\r\n          <template v-slot:item=\"row\">\r\n          <tr>\r\n            <td class=\"clickable\" @click=\"$router.push('/team-page/' + row.item.teamId)\">{{row.item.teamName}}</td>\r\n            <td>{{row.item.game}}</td>\r\n            <td>{{row.item.teamBio}}</td>\r\n          </tr>\r\n      </template>\r\n        </v-data-table>\r\n      </v-col>\r\n       <v-col>\r\n        <v-data-table :headers=\"tourneyHeaders\" :items=\"tourneys\" :items-per-page=\"5\" class=\"elevation-1\">\r\n          <template v-slot:item=\"row\">\r\n          <tr>\r\n            <td class=\"clickable\" @click=\"$router.push('/tournament-page/' + row.item.tournamentId)\">{{row.item.tournamentName}}</td>\r\n            <td>{{row.item.game}}</td>\r\n            <td>{{row.item.startDate}}</td>\r\n          </tr>\r\n      </template>\r\n        </v-data-table>\r\n      </v-col>\r\n    </v-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EditUser from \"@/components/EditUser.vue\";\r\nimport auth from '@/auth.js'\r\n\r\nexport default {\r\n  components: {\r\n    EditUser\r\n  },\r\n  data() {\r\n    return {\r\n      teamHeaders: [\r\n        {\r\n          text: \"Teams\",\r\n          align: \"start\",\r\n          value: \"teamName\",\r\n          sortable: false\r\n        },\r\n        { text: \"Game/Sport\", value: \"game\", sortable: false },\r\n        { text: \"Team Bio\", sortable: false, value: \"teamBio\" }\r\n      ],\r\n      tourneyHeaders: [\r\n        {\r\n          text: \"Tournament\",\r\n          align: \"start\",\r\n          value: \"name\",\r\n          sortable: false\r\n        },\r\n        { text: \"Game/Sport\", value: \"game\", sortable: false },\r\n        { text: \"Start Date\", value: \"start-date\", sortable: false }\r\n      ],\r\n      user: null,\r\n      teams: [\r\n        {\r\n          teamName:'',\r\n          teamBio:'',\r\n          game:''          \r\n        }\r\n      ],\r\n      tourneys: [\r\n        {\r\n          tournamentName: \"\",\r\n          game: \"\",\r\n          startDate: \"\"\r\n        },\r\n        {\r\n          name: \"Red Team\",\r\n          game: \"Baseball\",\r\n          info:\r\n            \"quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in\"\r\n        },\r\n        {\r\n          name: \"Green Team\",\r\n          info:\r\n            \"voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\r\n          game: \"Volleyball\"\r\n        },\r\n        {\r\n          name: \"Yellow Team\",\r\n          info:\r\n            \"voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\r\n          game: \"Super Smash\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  methods:{\r\n    getUser(){\r\n      let username = auth.getUser().sub;\r\n    fetch(`${process.env.VUE_APP_REMOTE_API}/api/user/${username}`,  {\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: 'Bearer ' + auth.getToken(),\r\n      },\r\n    })\r\n    .then((response) => {\r\n        return response.json();\r\n      })\r\n    .then(userFromApi => {\r\n      this.user = userFromApi;\r\n      this.getUserTeams(userFromApi.id)\r\n      this.getUserTournaments(userFromApi.id)\r\n      })\r\n    },\r\n    getUserTeams(userId){\r\n       fetch(`${process.env.VUE_APP_REMOTE_API}/api/team?userId=${userId}`,  {\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: 'Bearer ' + auth.getToken(),\r\n      },\r\n      credentials: 'same-origin',\r\n    })\r\n    .then((response) => {\r\n        return response.json();\r\n      })\r\n    .then(teamsFromApi => this.teams = teamsFromApi)\r\n    },\r\n     getUserTournaments(userId){\r\n       fetch(`${process.env.VUE_APP_REMOTE_API}/api/tournament?userId=${userId}`,  {\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: 'Bearer ' + auth.getToken(),\r\n      },\r\n      credentials: 'same-origin',\r\n    })\r\n    .then((response) => {\r\n        return response.json();\r\n      })\r\n    .then(tourneysFromApi => this.tourneys = tourneysFromApi)\r\n    }\r\n  },\r\n  created(){\r\n    this.getUser()\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n  .clickable{\r\n    cursor: pointer;\r\n  }\r\n</style>"]}]}